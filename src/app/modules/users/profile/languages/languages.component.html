<div class="margin-top-50"></div>
<div class="page_data_loader_popup" *ngIf="show_loader"></div>

<div class="container">
	<div class="row">
		<div class="col-xl-3 col-lg-4">
			<div class="sidebar-container">
				<!-- Expertise -->
				<app-sidebar [page_id]="page_id"></app-sidebar>
				<!-- Keywords -->
				<div class="clearfix"></div>
			</div>
		</div>
		<div class="col-xl-9 col-lg-8 content-left-offset">
			<form method="post" id="language_form" #languageForm="ngForm" (ngSubmit)="onSubmit(languageForm.valid)">
				<app-card [cardMetaData]="{cardTitle: 'Languages'}">
					<div class="content with-padding padding-bottom-10">
						<h5>Add Languages</h5>
						<div class="text-muted">What languages do you speak?</div>
						<br>

						<div class="row" *ngFor="let lanaguages of form_data.languages; let i = index;">
							<div class="col-xl-5 col-5 col-sm-5 col-md-5">
								<div class="submit-field">
									<h5 *ngIf="i == 0">Language</h5>
									<select class="form-control with-border" title="Select Language"
										name="langauge_name_{{i}}" id="langauge_name_{{i}}"
										[(ngModel)]="lanaguages.names" required #langauge_name_="ngModel">
										<option value="">Select a Language</option>
										<option *ngFor="let item of this.language_list" [value]="item.name">
											{{item.name}}</option>
									</select>
									<div *ngIf="langauge_name_.invalid && (langauge_name_.dirty || langauge_name_.touched)"
										class="text-danger small">
										Language is required.
									</div>
								</div>
							</div>
							<div class="col-xl-5 col-5 col-sm-5 col-md-5">
								<div class="submit-field">
									<h5 *ngIf="i == 0"> Proficiency</h5>
									<select class="form-control with-border" name="proficiency_{{i}}"
										id="proficiency_{{i}}" title="Select Proficiency"
										[(ngModel)]="lanaguages.proficiency" required #proficiencyobj="ngModel">
										<option value=""> Select a Proficiency</option>
										<option *ngFor="let item of this.proficiency_list" [value]="item.name">
											{{item.name}}</option>
									</select>
									<div *ngIf="proficiencyobj.invalid && (proficiencyobj.dirty || proficiencyobj.touched)"
										class="text-danger small">
										Proficiency is required.
									</div>
								</div>
							</div>
							<div class="col-xl-2 col-2 col-sm-2 col-md-2">
								<div *ngIf="lanaguages.names != 'English'">
									<button type="button" (click)="delete_language(i)"
										class="btn btn-sm btn-secondary float-right ml-2" [ngClass]="{'mt-4': i ==0}"><i
											class="icon-feather-trash"></i> </button>
								</div>
							</div>
						</div>
					</div>
				</app-card>
				<div class="row">
					<div class="col-xl-12">
						<div class="dashboard-box margin-top-0">
							<div class="content with-padding padding-bottom-10">
								<button type="button" class="btn btn-outline-primary" (click)="add_more_language()"> <i
										class="icon-material-outline-add"></i> Add Language</button>
							</div>
						</div>
					</div>
					<div class="col-xl-12">
						<div class="row">
							<div class="col-xl-6">
								<button type="submit" class="button ripple-effect big margin-top-30"><i
										class="icon-feather-check"></i> Save and Proceed</button>
							</div>

							<div class="col-xl-6">
								<button type="button" (click)="back_to_employment()"
									class="button gray ripple-effect big margin-top-30 float-right" *ngIf="this.links.previous_link!=''"><i
										class="icon-feather-chevron-left"></i> Back</button>
							</div>
						</div>
					</div>

				</div>
			</form>


		</div>
	</div>
</div>