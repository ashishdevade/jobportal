<div class="margin-top-50"></div>
<div class="page_data_loader_popup" *ngIf="show_loader"></div>

<div class="container">
	<div class="row">
		<div class="col-xl-3 col-lg-4">
			<div class="sidebar-container">
				<!-- Expertise -->
				<app-sidebar [page_id]="page_id"></app-sidebar>
				<!-- Keywords -->
				<div class="clearfix"></div>
			</div>
		</div>
		<div class="col-xl-9 col-lg-8 content-left-offset">
			<form method="post" id="title_overview_form" #titleoverview="ngForm"
			(ngSubmit)="onSubmit(titleoverview.valid)">
			<app-card [cardMetaData]="{cardTitle: this.main_heading}">
				<div class="content with-padding padding-bottom-5">
					<h5>{{this.sub_heading}} </h5>
					<div class="text-muted"> {{this.sub_description}} </div>
					<br>
				</div>
				<div class="content with-padding padding-bottom-5">
					<div class="row">
						<div class="col-xl-12 col-12 col-sm-12 col-md-12">
							<div class="submit-field">
								<h5> {{this.title_input}} <span class="text-danger font-20">*</span></h5>
								<input type="text" class="input-text with-border  mb-0 pb-0" name="title" id="title" [placeholder]="this.title_placeholder" required [(ngModel)]="form_data.job_title" #titleobj="ngModel" />
								<div *ngIf="titleobj.invalid && (titleobj.dirty || titleobj.touched)" class="text-danger small">
									{{this.title_input}} is required
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<!-- <div class="col-xl-12 col-12 col-sm-12 col-md-12">
							<div class="submit-field">
								<h5> {{this.description_input}} <span class="text-danger font-20">*</span></h5>
								<textarea type="text" class="input-text with-border  mb-0 pb-0" name="description" id="description" [placeholder]="this.desc_placeholder" required [(ngModel)]="form_data.professional_overview" #desciptionSection="ngModel" rows="10"></textarea>
								<div *ngIf="desciptionSection.invalid && (desciptionSection.dirty || desciptionSection.touched || titleoverview.submitted)" class="text-danger small">
									{{this.description_input}} is required
								</div>
							</div>
						</div> -->
						<!-- <div class="col-xl-12 col-12 col-sm-12 col-md-12">
							<div class="submit-field">
								<h5> {{this.description_input}} <span class="text-danger font-20">*</span></h5>
							</div>
							<angular-editor  [ngModelOptions]="{standalone: true}"  name="job_description" id="job_description" [placeholder]="this.desc_placeholder" required [(ngModel)]="form_data.professional_overview" [config]="config"  #desciptionSection="ngModel" ></angular-editor>
							<div *ngIf="desciptionSection.invalid && (desciptionSection.dirty || desciptionSection.touched || titleoverview.submitted)" class="text-danger small">
								{{this.description_input}} is required
							</div>
						</div> -->
					</div>
					
					<div class="row">
						<div class="col-xl-12 col-12 col-sm-12 col-md-12">
							<div class="submit-field">
								<h5> {{this.description_input}} <span class="text-danger font-20">*</span></h5>
							</div>
							<ckeditor #emailBody [editor]="Editor"  name="job_description" id="job_description" data="{{form_data.professional_overview}}" [(ngModel)]="form_data.professional_overview" #desciptionSection="ngModel"></ckeditor>
							<div *ngIf="desciptionSection.invalid && (desciptionSection.dirty || desciptionSection.touched || titleoverview.submitted)" class="text-danger small">
								{{this.description_input}} is required
							</div>
						</div>
					</div>
					<ng-container *ngIf="this.access_type == 'Company'">
						<div class="row mt-5">
							<div class="col-xl-12 col-12 col-sm-12 col-md-12">
								<div class="submit-field">
									<h5>Upload Job Description  </h5>
									<div class="">
										<input type="file" (change)="fileChangeEvent($event)" />
										<span class="text-muted">Uploading JD file/pdf/word</span>
									</div>
								</div>
							</div>
						</div>
						
						<div class="row mb-5" *ngIf="this.form_data.uploaded_jd!= '' && this.form_data.uploaded_jd!= null && this.form_data.uploaded_jd!= undefined">
							<div class="col-xl-6 col-6 col-sm-6 col-md-6">
								<a download  [href]="this.form_data.uploaded_jd" target="_blank" class="btn btn-success ml-2" ><i class="icon-feather-download"></i>Download JD</a>
							</div>
							<div class="col-xl-6 col-6 col-sm-6 col-md-6" >
								<div class="pull-right float-right">
									<button type="button" class="btn btn-danger ml-2" (click)="remove_document()" ><i class="icon-material-outline-delete"></i>Remove Document</button>
								</div>
							</div>
						</div>
					</ng-container>
					
				</div>
				<div class="content with-padding padding-bottom-5" *ngIf="this.access_type != 'Company'">
					<a (click)="skip_steps()" class="btn btn-link"> Skip this step </a>
				</div>
			</app-card>
			<div class="row">
				<div class="col-xl-12">
					<div class="row">
						<div class="col-xl-6">
							<button type="submit" class="button ripple-effect big margin-top-30" [disabled]="titleoverview.invalid"><i
								class="icon-feather-check"></i> Save and Proceed</button>
							</div>

							<div class="col-xl-6">
								<button type="button" (click)="back_to_hr_rate()"
								class="button gray ripple-effect big margin-top-30 float-right" *ngIf="this.links.previous_link!=''"><i
								class="icon-feather-chevron-left"></i> Back</button>
							</div>
						</div>
					</div>

				</div>
			</form>


		</div>
	</div>
</div>